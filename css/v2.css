/* ===== Base / Reset ===== */
:root{
  --bg:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --outline:#e5e7eb;
  --outline-strong:#e2e8f0;
  --soft:#f7f8fa;
  --primary:#0f172a;
  --primary-contrast:#ffffff;
  --chip:#e5e7eb;
  --chip-text:#111827;
  --ok:#16a34a;
}

*{box-sizing:border-box}
html,body{height:100%}
html{-webkit-text-size-adjust:100%}
body{
  margin:0;
  font-family:ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  color:var(--text);
  background:transparent;
}

/* ===== Overlay + Card ===== */
.overlay{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:rgba(17,24,39,.55);
  padding:24px;
  z-index:2147483647;
}
.card{
  position:relative;
  width:100%;
  max-width:980px;                 /* desktop width “storica” */
  background:var(--bg);
  border-radius:20px;
  box-shadow:0 10px 40px rgba(0,0,0,.25);
  padding:32px 36px 28px;
}
.close{
  position:absolute; top:18px; right:18px;
  width:34px; height:34px; border:0; border-radius:50%;
  background:#f3f4f6; color:#374151; cursor:pointer; font-size:18px;
}
.close:focus{outline:2px solid #94a3b8; outline-offset:2px}

/* ===== Title ===== */
.title{margin:0 0 6px; font-weight:800; line-height:1.15;
  font-size:clamp(22px, 2.3vw, 34px);
}
.subtitle{margin:0 0 22px; color:var(--muted); font-size:clamp(14px,1.4vw,18px)}

/* ===== Grid 2 colonne desktop, 1 col mobile ===== */
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:22px;
}

/* ===== Box ===== */
.box{
  border:1px solid var(--outline);
  border-radius:16px;
  padding:20px 18px;
  background:#fff;
}
.box--hl{ background:#fbfcff; border-color:var(--outline-strong); }

.box h3{margin:0 0 10px; font-size:clamp(18px,1.6vw,22px)}
.box p{margin:0 0 16px; color:#374151; font-size:clamp(14px,1.2vw,16px)}

/* ===== Coupon line ===== */
.code-block{
  display:flex; align-items:center; justify-content:flex-start;
  gap:10px; padding:12px; border-radius:14px;
  background:var(--soft); border:1px solid var(--outline);
}
.code-label{
  padding:10px 16px; border-radius:999px;
  background:var(--chip); color:var(--chip-text);
  font-weight:700; letter-spacing:.06em; font-size:14px;
}
.code-value{
  min-width:84px; padding:10px 14px; border-radius:10px;
  background:#fff; border:1px solid var(--outline);
  font-weight:800; font-size:18px; text-align:center;
}

/* ===== Inputs ===== */
.input{
  width:100%;
  appearance:none;
  border:1px solid var(--outline);
  background:#fff;
  border-radius:12px;
  padding:12px 14px;
  font-size:16px;        /* >=16px evita zoom iOS */
  line-height:1.3;
  color:var(--text);
}
.inputs{display:flex; gap:12px}
.inputs .input{flex:1}

.input:focus{outline:2px solid #94a3b8; outline-offset:1px}

/* ===== Consent ===== */
.consent{margin:14px 0 6px; display:grid; gap:10px}
.consent__label{display:flex; gap:10px; align-items:flex-start; font-size:14px; color:#374151}
.consent__label input{margin-top:2px; width:18px; height:18px}

/* ===== Buttons ===== */
.btn{display:inline-flex; align-items:center; justify-content:center; cursor:pointer; border-radius:12px; border:1px solid #11182718; padding:12px 16px; font-weight:700}
.btn.primary{background:var(--primary); color:var(--primary-contrast); border-color:transparent}
.btn.secondary{background:#fff; color:var(--text)}
.btn[disabled]{opacity:.6; cursor:default}

/* toast copy */
.toast{margin-top:8px; font-size:14px; color:var(--ok)}

/* ===== Inline notice (error) ===== */
.notice{margin-top:10px; padding:10px 12px; border-radius:10px; background:#fef2f2; color:#991b1b; border:1px solid #fee2e2; font-size:14px}

/* ===== Success block ===== */
#success{
  border:1px dashed var(--outline);
  border-radius:16px; padding:18px;
  background:#fbfdff;
}
#success h4{margin:0 0 8px; font-size:clamp(18px,1.5vw,22px)}
#success p{margin:0 0 12px; color:#374151}

/* ===== Desktop fine-tuning ===== */
@media (min-width: 992px){
  .card{padding:36px 40px 30px}
  .box{padding:22px 20px}
}

/* ===== Mobile: 1 colonna, full-width, font ridotti equilibrati ===== */
@media (max-width: 768px){
  .overlay{padding:14px}
  .card{max-width:640px; border-radius:16px; padding:18px 16px}
  .grid{grid-template-columns:1fr; gap:14px}
  .inputs{flex-direction:column}
  .code-block{padding:10px}
  .code-label{font-size:13px; padding:8px 12px}
  .code-value{font-size:16px; padding:8px 12px}
  .btn{width:100%}
}

/* ===== Very small phones (iPhone SE, 320–360px) ===== */
@media (max-width: 360px){
  .title{font-size:22px}
  .subtitle{font-size:13px}
  .box h3{font-size:17px}
  .input{padding:11px 12px; font-size:16px}
  .code-label{font-size:12px}
}

/* ===== Teaser (se usato) ===== */
.teaser{
  position:fixed; bottom:16px; left:16px;
  background:#111827; color:#fff; font-weight:800;
  padding:10px 14px; border-radius:999px; font-size:14px;
  box-shadow:0 6px 20px rgba(0,0,0,.25);
  cursor:pointer; z-index:2147483646;
}
.teaser:focus{outline:2px solid #94a3b8; outline-offset:2px}


/* ====== LAYOUT RESPONSIVE SENZA CAMBIARE IL PHP ====== */

/* Card centrata e dimensioni sane */
.card{
  max-width: 980px;
  margin: 0 auto;
  padding: 28px;
  border-radius: 18px;
  background: #fff;
  box-shadow: 0 10px 40px rgba(0,0,0,.12);
}

/* Spaziatura titoli */
.title{ margin: 0 0 8px; font-size: 28px; line-height: 1.2; }
.subtitle{ margin: 0 0 24px; color: #6b7280; }

/* Box generici già presenti nel markup */
.box{
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  padding: 18px;
  margin: 12px 0;
}

/* Desktop: due colonne per i primi due .box dentro .card */
@media (min-width: 900px){
  .card{
    display: grid;
    grid-template-columns: 1fr 1fr; /* due colonne */
    grid-auto-rows: minmax(min-content, max-content);
    column-gap: 24px;
    row-gap: 18px;
  }

  /* titolo + sottotitolo a tutta larghezza */
  .title, .subtitle{ grid-column: 1 / -1; }

  /* i primi due blocchi diventano affiancati;
     gli eventuali box successivi torneranno sotto a tutta larghezza */
  .card > .box:nth-of-type(1){ grid-column: 1; }
  .card > .box:nth-of-type(2){ grid-column: 2; }
  .card > .box:nth-of-type(n+3){ grid-column: 1 / -1; }

  /* rimuove i margin verticali interni quando usiamo la griglia */
  .card > .box{ margin: 0; }
}

/* Mobile: colonna singola (default) */
@media (max-width: 899.98px){
  .card{ display: block; }
}

/* --- Dettagli estetici non invasivi --- */
.code-block{
  display: flex; align-items: center; gap: 12px;
  background: #f7f8fa; border-radius: 12px; padding: 14px;
}
.code-label{
  font-size: 14px; letter-spacing: .08em; text-transform: uppercase;
  color: #6b7280; background:#e8ebf0; border-radius: 999px;
  padding: 8px 12px; font-weight: 600;
}
.code-value{
  font-weight: 700; font-size: 18px; background:#fff; border-radius: 10px;
  padding: 8px 14px; border: 1px solid #e5e7eb;
}

.btn{ display:inline-flex; align-items:center; justify-content:center;
  gap:8px; border-radius:12px; padding:12px 16px; font-weight:700;
  border:1px solid #111827; background:#111827; color:#fff; }
.btn--secondary{ background:#fff; color:#111827; border-color:#111827; }

.toast{ margin-top:8px; font-size:14px; color:#065f46; }

/* Accessibilità checkbox / input */
.box input[type="text"], .box input[type="email

